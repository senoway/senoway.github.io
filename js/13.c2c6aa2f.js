(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"1a02":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("Calendar",{on:{"click-event":e.onClickEvent}}),a("div",{staticClass:"__shyme-app-mask flex flex-center",class:{"__shyme-app-mask-on":e.maskOn}},[a("p",{staticClass:"__shyme-app-mask-openning"},[e._v("Now openning the room...")]),a("q-spinner-puff",{attrs:{color:"deep-orange",size:"20em"}})],1)],1)},o=[],l=(a("6762"),a("2fdb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toolbar",{staticClass:"text-primary row justify-between items-center"},[a("q-btn-group",{staticClass:"col-3",attrs:{flat:""}},[a("q-btn",{attrs:{color:"primary",flat:"",label:"Prev"},on:{click:e.onPrev}}),a("q-btn",{attrs:{color:"primary",flat:"",label:"Next"},on:{click:e.onNext}})],1),a("div",{staticClass:"col-4",staticStyle:{"text-align":"center","font-size":"1.5em"}},[e._v(e._s(e.title))]),a("q-select",{staticClass:"col-4",attrs:{outlined:"",dense:"","emit-value":"","map-options":"",label:"言語選択",options:e.locales},model:{value:e.locale,callback:function(t){e.locale=t},expression:"locale"}})],1),a("q-separator",{staticClass:"full-width"}),a("q-calendar",{ref:"calendar",staticClass:"calendar-container",staticStyle:{height:"100%"},attrs:{view:e.viewType,locale:e.locale,"drag-over-func":e.onDragOver,"drop-func":e.onDrop,animated:""},on:{"click:day":e.onClickDay,change:e.onChange},scopedSlots:e._u([e.isMonth?{key:"day",fn:function(t){var n=t.timestamp;return[e._l(e.getEvents(n.date),(function(t,n){return[a("q-badge",{key:n,staticClass:"q-event",class:e.badgeClasses(t,"day"),staticStyle:{width:"100%",cursor:"pointer",height:"16px","max-height":"16px"},style:e.badgeStyles(t,"day"),attrs:{draggable:!0},on:{click:function(a){e.onClickEventBadge(a,t)}},nativeOn:{dragstart:function(a){return function(a){return e.onDragStart(a,t)}(a)},dragend:function(a){return function(a){return e.onDragEnd(a,t)}(a)},dragenter:function(a){return function(a){return e.onDragEnter(a,t)}(a)},touchmove:function(e){}}},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1)]}))]}}:null],null,!0),model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("q-dialog",{model:{value:e.isOpenAddDialog,callback:function(t){e.isOpenAddDialog=t},expression:"isOpenAddDialog"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary",staticStyle:{color:"#fff"}},[a("q-avatar",[a("q-icon",{attrs:{name:"calendar_today"}})],1),a("q-toolbar-title",[a("span",[e._v(e._s(e.addDialogTitle))])]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",[a("q-input",{attrs:{label:"Title"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"bookmark"}})]},proxy:!0}]),model:{value:e.addTitle,callback:function(t){e.addTitle=t},expression:"addTitle"}})],1),a("q-card-section",[a("q-input",{attrs:{label:"Memo",outlined:"",type:"textarea"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"create"}})]},proxy:!0}]),model:{value:e.addDetails,callback:function(t){e.addDetails=t},expression:"addDetails"}})],1)],1)],1)],1)}),i=[],r=a("c47a"),s=a.n(r),c=(a("4917"),a("a481"),a("fe7a")),u={WEEK:"week",MONTH:"month"},d=function(e){return e===u.WEEK},p=function(e){return e===u.MONTH},g=u,v=(a("ac6a"),a("cadf"),a("06db"),a("456d"),{AR:{value:"ar",label:"العربية"},BG:{value:"bg",label:"български език"},CA:{value:"ca",label:"Català"},CS:{value:"cs",label:"Čeština"},DA:{value:"da",label:"Dansk"},DE:{value:"de",label:"Deutsch"},EN_GB:{value:"en-gb",label:"English (UK)"},EN_US:{value:"en-us",label:"English (US)"},EO:{value:"eo",label:"Esperanto"},ES:{value:"es",label:"Español"},FA_IR:{value:"fa-ir",label:"فارسی"},FI:{value:"fi",label:"Suomi"},FR:{value:"fr",label:"Français"},GN:{value:"gn",label:"Avañe'ẽ"},HE:{value:"he",label:"עברית"},HR:{value:"hr",label:"Hrvatski jezik"},HU:{value:"hu",label:"Magyar"},ID:{value:"id",label:"Bahasa Indonesia"},IT:{value:"it",label:"Italiano"},JA:{value:"ja",label:"日本語 (にほんご)"},KM:{value:"km",label:"ខ្មែរ"},KO_KR:{value:"ko-kr",label:"한국어"},LU:{value:"lu",label:"Kiluba"},LV:{value:"lv",label:"Latviešu valoda"},ML:{value:"ml",label:"മലയാളം"},MS:{value:"ms",label:"Bahasa Melayu"},NB_NO:{value:"nb-no",label:"Norsk"},NL:{value:"nl",label:"Nederlands"},PL:{value:"pl",label:"Polski"},PT_BR:{value:"pt-br",label:"Português (BR)"},PT:{value:"pt",label:"Português"},RO:{value:"ro",label:"Română"},RU:{value:"ru",label:"русский"},SK:{value:"sk",label:"Slovenčina"},SL:{value:"sl",label:"Slovenski Jezik"},SR:{value:"sr",label:"српски језик"},SV:{value:"sv",label:"Svenska"},TA:{value:"ta",label:"தமிழ்"},TH:{value:"th",label:"ไทย"},TR:{value:"tr",label:"Türkçe"},UK:{value:"uk",label:"Українська"},VI:{value:"vi",label:"Tiếng Việt"},ZH_HANS:{value:"zh-hans",label:"中文(简体)"},ZH_HANT:{value:"zh-hant",label:"中文(繁體)"}}),m=function(){return Object.keys(v).map((function(e){return v[e]}))},h=v,f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=f,y=/^\s*rgb(a)?\s*\((\s*(\d+)\s*,\s*?){2}(\d+)\s*,?\s*([01]?\.?\d*?)?\s*\)\s*$/,k=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");var t=y.exec(e);if(t){var a={r:Math.min(255,parseInt(t[2],10)),g:Math.min(255,parseInt(t[3],10)),b:Math.min(255,parseInt(t[4],10))};return t[1]&&(a.a=Math.min(1,parseFloat(t[5]))),a}return D(e)},D=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");e=e.replace(/^#/,""),3===e.length?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:4===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((255&t)/2.55)}:{r:t>>16,g:t>>8&255,b:255&t}},T=function(e){if("string"!==typeof e&&(!e||void 0===e.r))throw new TypeError("Expected a string or a {r, g, b} object as color");var t="string"===typeof e?k(e):e,a=t.r/255,n=t.g/255,o=t.b/255,l=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),r=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4);return.2126*l+.7152*i+.0722*r},C={data:function(){return{title:"",viewType:g.MONTH,selectedDate:"",locale:h.EN_US.value,locales:m(),isOpenAddDialog:!1,addDialogTitle:"",addTitle:"",addDetails:"",events:[{title:"山田太郎さん",details:"Everything is funny as long as it is happening to someone else",date:"2020-08-01",time:"10:00",duration:120,bgcolor:"orange",icon:"account_box",days:0,room:"TaroRoom"},{title:"鈴木一郎さん",details:"Buy a nice present",date:"2020-08-04",time:"10:00",duration:120,bgcolor:"green",icon:"account_box",days:0,room:"IchiroRoom"},{title:"片岡花江さん",details:"Time to pitch my idea to the company",date:"2020-08-13",time:"10:00",duration:120,bgcolor:"red",icon:"account_box",days:0,room:"HanaeRoom"},{title:"水島景子さん",details:"Company is paying!",date:"2020-08-13",time:"11:30",duration:90,bgcolor:"teal",icon:"account_box",days:0,room:"KeikoRoom"},{title:"川田敏巳さん",details:"Company is paying!",date:"2020-08-10",time:"11:30",duration:90,bgcolor:"blue",icon:"account_box",days:0,room:"KawataRoom"},{title:"山崎悠さん",details:"Company is paying!",date:"2020-08-10",time:"11:30",duration:90,bgcolor:"blue-grey",icon:"account_box",days:0,room:"HarukaRoom"},{title:"内藤学さん",details:"Company is paying!",date:"2020-08-21",time:"11:30",duration:90,bgcolor:"purple",icon:"account_box",days:0,room:"ManabuRoom"}]}},methods:{onClickDay:function(e){var t=e.scope,a=t.date,n=t.weekday;this.addDialogTitle="".concat(a," (").concat(b[n],")"),this.isOpenAddDialog=!0},onClickEventBadge:function(e,t){this.$emit("click-event",t),e.stopPropagation(),e.preventDefault()},onDragEnter:function(e,t){e.preventDefault()},onDragStart:function(e,t){this.dragging=!0,this.draggedEvent=t,e.stopPropagation()},onDragEnd:function(e,t){e.preventDefault(),e.stopPropagation(),this.resetDrag()},onDragOver:function(e,t,a){return"day"===a?(e.preventDefault(),e.stopPropagation(),this.draggedEvent.date!==t.date):"interval"===a?(e.preventDefault(),e.stopPropagation(),this.draggedEvent.date!==t.date&&this.draggedEvent.time!==t.time):void 0},onDrop:function(e,t,a){e.preventDefault(),e.stopPropagation(),"day"===a?(this.draggedEvent.date=t.date,this.draggedEvent.side=void 0):"interval"===a&&(this.draggedEvent.date=t.date,this.draggedEvent.time=t.time,this.draggedEvent.side=void 0)},onChange:function(e){var t=e.start;this.start=t,this.updateTitle()},onPrev:function(){this.$refs.calendar.prev()},onNext:function(){this.$refs.calendar.next()},updateTitle:function(){var e=Object(c["b"])(this.start);void 0!==this.dateFormatter&&(this.title=this.dateFormatter.format(e))},updateFormatter:function(){try{this.dateFormatter=new Intl.DateTimeFormat(this.locale||void 0,{month:this.shortMonthLabel?"short":"long",year:"numeric",timeZone:"UTC"})}catch(e){this.dateFormatter=void 0}},resetDrag:function(){this.draggedEvent=void 0,this.dragging=!1},isCssColor:function(e){return!!e&&!!e.match(/^(#|(rgb|hsl)a?\()/)},badgeClasses:function(e,t){var a,n=this.isCssColor(e.bgcolor),o="header"===t;return a={},s()(a,"text-white bg-".concat(e.bgcolor),!n),s()(a,"full-width",!o&&(!e.side||"full"===e.side)),s()(a,"left-side",!o&&"left"===e.side),s()(a,"right-side",!o&&"right"===e.side),a},badgeStyles:function(e,t,a,n){var o={};return this.isCssColor(e.bgcolor)&&(o["background-color"]=e.bgcolor,o.color=T(e.bgcolor)>.5?"black":"white"),a&&(o.top=a(e.time)+"px"),n&&(o.height=n(e.duration)+"px"),o["align-items"]="flex-start",o},getEvents:function(e){for(var t=c["a"].parseTimestamp(e),a=[],n=0;n<this.events.length;++n){var o=!1;if(this.events[n].date===e){if(this.events[n].time&&a.length>0)for(var l=c["a"].parseTimestamp(this.events[n].date+" "+this.events[n].time),i=c["a"].addToDate(l,{minute:this.events[n].duration}),r=0;r<a.length;++r)if(a[r].time){var s=c["a"].parseTimestamp(a[r].date+" "+a[r].time),u=c["a"].addToDate(s,{minute:a[r].duration});if(c["a"].isBetweenDates(l,s,u)||c["a"].isBetweenDates(i,s,u)){a[r].side="left",this.events[n].side="right",a.push(this.events[n]),o=!0;break}}o||(this.events[n].side=void 0,a.push(this.events[n]))}else if(this.events[n].days){var d=c["a"].parseTimestamp(this.events[n].date),p=c["a"].addToDate(d,{day:this.events[n].days});c["a"].isBetweenDates(t,d,p)&&(a.push(this.events[n]),o=!0)}}return a}},computed:{isWeek:function(){return d(this.viewType)},isMonth:function(){return p(this.viewType)},eventsMap:function(){var e={};return this.events.forEach((function(t){return(e[t.date]=e[t.date]||[]).push(t)})),e}},watch:{locale:function(){this.updateFormatter(),this.updateTitle()}},beforeMount:function(){this.updateFormatter()}},E=C,w=a("2877"),x=a("65c6"),_=a("e7a9"),S=a("9c40"),M=a("ddd8"),q=a("eb85"),O=a("58a8"),N=a("0016"),R=a("24e8"),P=a("f09f"),H=a("cb32"),Q=a("6ac5"),I=a("a370"),B=a("27f9"),A=a("7f67"),F=a("eebe"),K=a.n(F),U=Object(w["a"])(E,l,i,!1,null,null,null),$=U.exports;K()(U,"components",{QToolbar:x["a"],QBtnGroup:_["a"],QBtn:S["a"],QSelect:M["a"],QSeparator:q["a"],QBadge:O["a"],QIcon:N["a"],QDialog:R["a"],QCard:P["a"],QAvatar:H["a"],QToolbarTitle:Q["a"],QCardSection:I["a"],QInput:B["a"]}),K()(U,"directives",{ClosePopup:A["a"]});var j={formatDate:function(e,t){return t=t.replace(/yyyy/g,e.getFullYear()),t=t.replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2)),t=t.replace(/dd/g,("0"+e.getDate()).slice(-2)),t=t.replace(/HH/g,("0"+e.getHours()).slice(-2)),t=t.replace(/mm/g,("0"+e.getMinutes()).slice(-2)),t=t.replace(/ss/g,("0"+e.getSeconds()).slice(-2)),t=t.replace(/SSS/g,("00"+e.getMilliseconds()).slice(-3)),t}},L=j,z={components:{Calendar:$},data:function(){return{searchText:"",rowsPerPageOptions:[20,25,50,100],columns:[{name:"datetime",label:"日時",align:"left",field:"datetime",sortable:!0},{name:"room",label:"ルーム名",align:"left",field:"room",sortable:!0},{name:"memo",label:"メモ",align:"left",field:"memo"}],data:function(){for(var e=[],t=0;t<=100;t++)e.push({name:"CounselingRoom-".concat(t+1),datetime:L.formatDate(new Date(Date.now()+2*t*3600*24*1e3),"yyyy/MM/dd HH:mm"),room:"CounselingRoom-".concat(t+1),memo:"クライアント太郎".concat(t+1,"さんとのカウンセリングルーム")});return e}(),maskOn:!1}},methods:{onClickEvent:function(e){var t=this;this.maskOn=!0,setTimeout((function(){t.maskOn=!1;var a=e.room;t.$rtc.startNewTab(t.user.getManagerCode(),a,t.user.getName(),t.user.getUsername())}),3e3)},onRowClick:function(e,t){var a=t.room;this.$rtc.startNewTab(this.user.getManagerCode(),a,this.user.getName(),this.user.getUsername())}},computed:{rooms:function(){var e=this;return this.data.filter((function(t){var a=!1,n=t.datetime,o=t.room,l=t.memo;return(n.includes(e.searchText)||o.includes(e.searchText)||l.includes(e.searchText))&&(a=!0),a}))},user:function(){return this.$store.state.userSession.session}}},G=z,J=a("9989"),V=a("06d5"),W=a("eaac"),Z=Object(w["a"])(G,n,o,!1,null,null,null);t["default"]=Z.exports;K()(Z,"components",{QPage:J["a"],QSpinnerPuff:V["a"],QTable:W["a"],QInput:B["a"],QIcon:N["a"]})}}]);